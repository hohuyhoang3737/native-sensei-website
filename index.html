<script>
    // Hàm này sẽ thay đổi nội dung của tất cả các phần tử có thuộc tính data-ja và data-en
    function setLanguage(lang) {
        // 1. Đặt ngôn ngữ hiện tại của trang
        document.documentElement.lang = lang; 

        // 2. Cập nhật trạng thái active của nút ngôn ngữ
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById('lang-' + lang).classList.add('active');

        // 3. Thay đổi nội dung của tất cả các phần tử có thuộc tính data-
        document.querySelectorAll('[data-ja], [data-en]').forEach(element => {
            let newContent;
            if (lang === 'ja') {
                // Lấy nội dung Tiếng Nhật từ thuộc tính data-ja
                newContent = element.getAttribute('data-ja');
            } else if (lang === 'en') {
                // Lấy nội dung Tiếng Anh từ thuộc tính data-en
                newContent = element.getAttribute('data-en');
            }

            if (newContent) {
                element.innerHTML = newContent;
            }
        });

        // Lưu lựa chọn ngôn ngữ vào bộ nhớ trình duyệt để lần sau tải lại
        localStorage.setItem('selectedLang', lang);
    }

    // Tự động tải ngôn ngữ đã chọn khi trang được tải lần đầu
    document.addEventListener('DOMContentLoaded', () => {
        const savedLang = localStorage.getItem('selectedLang') || 'ja'; // Mặc định là 'ja'
        setLanguage(savedLang);
    });
</script>
